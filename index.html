<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Utah Water Usage Visualization</title>
    <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/flowbite@2.5.1/dist/flowbite.min.css" rel="stylesheet" />
    <script src="https://cdn.jsdelivr.net/npm/flowbite@2.5.1/dist/flowbite.min.js"></script>


    <script>
        // https://codepen.io/devdojo/pen/qBrEQqM
        function togglePageFlip(el) {
            setAllPagesBack();
            setClickedPageForward(el);
            el.classList.toggle('turn');
        }

        function setAllPagesBack() {
            var pages = document.getElementsByClassName("page");
            for (var i = 0; i < pages.length; i++) {
                pages[i].classList.remove('z-50');
            }
        }

        function setClickedPageForward(el) {
            el.classList.add('z-50');
        }
    </script>
    <style>
        .perspective {
            -webkit-perspective: 1800px;
            perspective: 1800px;
        }

        .page {
            -webkit-transform-style: preserve-3d;
            transform-style: preserve-3d;
            -webkit-transform: rotateY(0deg);
            transform: rotateY(0deg);
        }

        .page.turn {
            -webkit-transform: rotateY(-180deg);
            transform: rotateY(-180deg);
        }

        .front,
        .back {
            -webkit-backface-visibility: hidden;
            backface-visibility: hidden;
        }

        .back {
            -webkit-transform: rotateY(-180deg);
            transform: rotateY(-180deg);
        }
    </style>
</head>

<body class="bg-gray-100 text-gray-800">

    <!-- Navbar -->
    <nav class="bg-blue-600 p-4">
        <div class="container mx-auto flex justify-between">
            <a href="#" class="text-white text-2xl font-semibold">Utah Water Usage</a>
            <div>
                <a href="#about" class="text-white mx-4 hover:underline">About</a>
                <a href="#plots" class="text-white mx-4 hover:underline">Visualizations</a>
                <a href="#contact" class="text-white mx-4 hover:underline">Contact</a>
            </div>
        </div>
    </nav>

    <!-- Hero Section -->
    <section class="bg-cover bg-center h-screen"
        style="background-image: url('https://source.unsplash.com/featured/?utah');">
        <div class="bg-blue-600 bg-opacity-50 h-full flex items-center justify-center">
            <div class="text-center">
                <h1 class="text-4xl font-bold text-white">Understand Utah's Water Usage</h1>
                <p class="text-xl text-white mt-4">Explore the data through interactive plots</p>
            </div>
        </div>
    </section>

    <!-- About Section -->
    <section id="about" class="py-12 bg-white">
        <div class="container mx-auto px-6">
            <h2 class="text-3xl font-semibold text-center mb-8">About the Project</h2>
            <p class="text-lg text-center mb-4">This project aims to help Utahns understand water usage in the state and
                how we can work to build effective water policy together. All calculations and references can be found
                on the reference page and links to sources are bracket in each section. If you see any errors or
                discrepencies please reach out at [name of this site]@gmail.com</p>
            </p>
    </section>
    <section id="acrefoot" class="py-12 bg-white">
        <div class="container mx-auto px-6">
            <h2 class="text-3xl font-semibold text-center mb-8">What is an Acre Foot?</h2>
            <p class="text-lg text-center mb-4"> At the level of states water is often measured in Acre Feet. It
                represents the amount of water needed
                to cover one acre of land (~43.5k ft^2) to a depth of one foot. If you're having trouble thinking
                about
                how much water that really is
                you're not alone. It roughly comes out to 385,000 gallons.</p>
        </div>

        <!-- What is a unit of water -->
        <div id="controls-carousel" class="relative w-full" data-carousel="static">
            <!-- Carousel wrapper -->
            <div class="relative h-56 overflow-hidden rounded-lg md:h-96 flex items-center justify-center">
                <!-- Item 1 -->
                <div class="hidden duration-700 ease-in-out flex items-center justify-center" data-carousel-item>
                    <p
                        class="text-lg md:text-2xl font-semibold text-center text-gray-800 dark:text-gray-200 p-4 max-w-lg mx-auto">
                        water
                        is an Acre Foot?</p>
                </div>
                <!-- Item 2 -->
                <div class="hidden duration-700 ease-in-out flex items-center justify-center"
                    data-carousel-item="active">
                    <p
                        class="text-lg md:text-2xl font-semibold text-center text-gray-800 dark:text-gray-200 p-4 max-w-lg mx-auto">
                        Let's play a game. If you took a 10-minute shower every day, how many years could you shower
                        with an
                        acre foot of water?
                    </p>
                </div>
                <!-- Item 3 -->
                <div class="hidden duration-700 ease-in-out flex items-center justify-center" data-carousel-item>
                    <p
                        class="text-lg md:text-2xl font-semibold text-center text-gray-800 dark:text-gray-200 p-4 max-w-lg mx-auto">
                        42 Years! That's 15,516 Showers!
                    </p>
                </div>
                <!-- Item 4 -->
                <div class="hidden duration-700 ease-in-out flex items-center justify-center" data-carousel-item>
                    <p
                        class="text-lg md:text-2xl font-semibold text-center text-gray-800 dark:text-gray-200 p-4 max-w-lg mx-auto">
                        Assuming you use the toillete 5 times a day how many years could you flush to your heart's
                        content?
                    </p>
                </div>
                <!-- Item 5 -->
                <div class="hidden duration-700 ease-in-out flex items-center justify-center" data-carousel-item>
                    <p
                        class="text-lg md:text-2xl font-semibold text-center text-gray-800 dark:text-gray-200 p-4 max-w-lg mx-auto">
                        111! That's 203,655 Flushes!
                    </p>
                </div>
                <!-- Item 6 -->
                <div class="hidden duration-700 ease-in-out flex items-center justify-center" data-carousel-item>
                    <p
                        class="text-lg md:text-2xl font-semibold text-center text-gray-800 dark:text-gray-200 p-4 max-w-lg mx-auto">
                        Assuming you do laundry once a week how many years could you keep your clothes clean?
                    </p>
                </div>
                <!-- Item 7 -->
                <div class="hidden duration-700 ease-in-out flex items-center justify-center" data-carousel-item>
                    <p
                        class="text-lg md:text-2xl font-semibold text-center text-gray-800 dark:text-gray-200 p-4 max-w-lg mx-auto">
                        272! That's 14,000 Loads of Laundry!
                    </p>
                </div>
            </div>
            <!-- Slider controls -->
            <button type="button"
                class="absolute top-0 left-0 z-30 flex items-center justify-center h-full px-4 cursor-pointer group focus:outline-none"
                data-carousel-prev>
                <span
                    class="inline-flex items-center justify-center w-12 h-12 rounded-full bg-black bg-opacity-75 text-white group-hover:bg-opacity-90 focus:ring-4 focus:ring-white">
                    <svg class="w-6 h-6" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none"
                        viewBox="0 0 6 10">
                        <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                            d="M5 1 1 5l4 4" />
                    </svg>
                    <span class="sr-only">Previous</span>
                </span>
            </button>
            <button type="button"
                class="absolute top-0 right-0 z-30 flex items-center justify-center h-full px-4 cursor-pointer group focus:outline-none"
                data-carousel-next>
                <span
                    class="inline-flex items-center justify-center w-12 h-12 rounded-full bg-black bg-opacity-75 text-white group-hover:bg-opacity-90 focus:ring-4 focus:ring-white">
                    <svg class="w-6 h-6" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none"
                        viewBox="0 0 6 10">
                        <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                            d="m1 9 4-4-4-4" />
                    </svg>
                    <span class="sr-only">Next</span>
                </span>
            </button>
        </div>
    </section>

    <!-- What is a unit of water -->
    <section id="about" class="py-12 bg-white">
        <div class="perspective text-white bg-black w-screen h-screen flex justify-end">

            <div class="page absolute duration-1000 flex items-end origin-left w-1/2 transition h-screen transform"
                data-page="4" onclick="togglePageFlip(this)">
                <!-- Page 9 -->
                <div
                    class="front text-xl sm:text-3xl md:text-5xl flex items-center justify-start px-2 sm:px-5 md:px-20 font-bold bg-gray-900 h-screen absolute right-0 w-full h-full">
                    How many days can you feed a dairy cow?
                </div>
                <!-- Page 10 -->
                <div
                    class="back text-xl sm:text-3xl md:text-5xl font-bold flex items-center justify-start px-2 sm:px-5 md:px-20 bg-gray-800 h-screen absolute w-full h-full">
                    83
                </div>
            </div>

            <div class="page absolute duration-1000 flex items-end origin-left w-1/2 transition h-screen transform"
                data-page="4" onclick="togglePageFlip(this)">
                <!-- Page 9 -->
                <div
                    class="front text-xl sm:text-3xl md:text-5xl flex items-center justify-start px-2 sm:px-5 md:px-20 font-bold bg-gray-900 h-screen absolute right-0 w-full h-full">
                    How many tons of alfalfa can you grow?
                </div>
                <!-- Page 10 -->
                <div
                    class="back text-xl sm:text-3xl md:text-5xl font-bold flex items-center justify-start px-2 sm:px-5 md:px-20 bg-gray-800 h-screen absolute w-full h-full">
                    2.5
                </div>
            </div>

            <div class="page absolute duration-1000 flex items-end origin-left w-1/2 transition h-screen transform"
                data-page="4" onclick="togglePageFlip(this)">
                <!-- Page 9 -->
                <div
                    class="front text-xl sm:text-3xl md:text-5xl flex items-center justify-start px-2 sm:px-5 md:px-20 font-bold bg-gray-900 h-screen absolute right-0 w-full h-full">
                    How many residential pools could you fill?
                </div>
                <!-- Page 10 -->
                <div
                    class="back text-xl sm:text-3xl md:text-5xl font-bold flex items-center justify-start px-2 sm:px-5 md:px-20 bg-gray-800 h-screen absolute w-full h-full">
                    16
                </div>
            </div>

            <div class="page absolute duration-1000 flex items-end origin-left w-1/2 transition h-screen transform"
                data-page="4" onclick="togglePageFlip(this)">
                <!-- Page 7 -->
                <div
                    class="front text-xl sm:text-3xl md:text-5xl flex items-center justify-start px-2 sm:px-5 md:px-20 font-bold bg-gray-900 h-screen absolute right-0 w-full h-full">
                    Assuming you do laundry once a week how many years could you keep your clothes clean?
                </div>
                <!-- Page 8 -->
                <div
                    class="back text-xl sm:text-3xl md:text-5xl font-bold flex items-center justify-start px-2 sm:px-5 md:px-20 bg-gray-800 h-screen absolute w-full h-full">
                    272! That's 14,000 Loads of Laundry!
                </div>
            </div>

            <div class="page absolute duration-1000 flex items-end origin-left w-1/2 transition h-screen transform"
                data-page="3" onclick="togglePageFlip(this)">
                <!-- Page 5 -->
                <div
                    class="front text-xl sm:text-3xl md:text-5xl flex items-center justify-start px-2 sm:px-5 md:px-20 font-bold bg-gray-900 h-screen absolute right-0 w-full h-full">
                    Assuming you use the toillete 5 times a day how many years could you flush to your heart's content?
                </div>
                <!-- Page 6 -->
                <div
                    class="back text-xl sm:text-3xl md:text-5xl font-bold flex items-center justify-start px-2 sm:px-5 md:px-20 bg-gray-800 h-screen absolute w-full h-full">
                    111! That's 40,731 Flushes!
                </div>
            </div>

            <div class="page absolute duration-1000 flex items-end origin-left w-1/2 transition h-screen transform"
                data-page="2" onclick="togglePageFlip(this)">
                <!-- Page 3 -->
                <div
                    class="front text-xl sm:text-3xl md:text-5xl flex items-center justify-start px-2 sm:px-5 md:px-20 font-bold bg-gray-900 h-screen absolute right-0 w-full h-full">
                    Let's play a game. If you took a 10-minute shower every
                    day, how many years could you shower with an acre foot of water?
                </div>
                <!-- Page 4 -->
                <div
                    class="back text-xl sm:text-3xl md:text-5xl font-bold flex items-center justify-start px-2 sm:px-5 md:px-20 bg-gray-800 h-screen absolute w-full h-full">
                    42 Years! That's 15,516 Showers!
                </div>
            </div>

            <div class="page absolute duration-1000 flex items-end origin-left w-1/2 transition h-screen transform"
                data-page="1" onclick="togglePageFlip(this)">
                <!-- Page 1 -->
                <div
                    class="front text-xl sm:text-3xl md:text-5xl flex flex-col items-start justify-center px-2 sm:px-5 md:px-20 font-bold bg-gray-900 h-screen absolute right-0 w-full h-full">
                    How much Water is an Acre Foot?
                    <p class="text-sm text-gray-500">Click me to open</p>
                </div>
                <!-- Page 2 -->
                <div
                    class="back text-xl sm:text-3xl md:text-5xl font-bold flex items-center justify-start px-2 sm:px-5 md:px-20 bg-gray-800 h-screen absolute w-full h-full">
                    At the level of states water is often measured in Acre Feet. It
                    represents the amount of water needed
                    to cover one acre of land (~43.5k ft^2) to a depth of one foot. If you're having trouble thinking
                    about
                    how much water that really is
                    you're not alone. It roughly comes out to 385,000 gallons.
                </div>
            </div>
        </div>
    </section>

    <!-- Acre Foot -->
    <section id="plots" class="py-12 bg-gray-100">
        <div class="container mx-auto px-6">
            <h2 class="text-3xl font-semibold text-center mb-8">How does water get used in the State of Utah</h2>
            <p class="text-lg text-center mb-4">An acre foot is A LOT of water! As a person we can shower or use the
                bathroom for most of our lives
                with an acre foot of water. We went through the above information to get a better sense of the data that
                will be presented below. (You can find the calculations in the reference section.) [2]
            </p>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                <!-- Plot 1 -->
                <div class="bg-white p-6 rounded-lg shadow-lg">
                    <h3 class="text-xl font-semibold mb-4">Things that are equal to an acre foot of water.</h3>
                    <div id="acre_feet" class="h-96"></div>
                </div>
                <!-- Plot 2 -->
                <div class="bg-white p-6 rounded-lg shadow-lg">
                    <h3 class="text-xl font-semibold mb-4">Water Used by Type</h3>
                    <div id="use_plot" class="h-96"></div>
                </div>
            </div>
        </div>
    </section>

    <!-- Population and Water -->
    <section id="plots" class="py-12 bg-gray-100">
        <div class="container mx-auto px-6">
            <h2 class="text-3xl font-semibold text-center mb-8">Population and Water Usage</h2>
            <p class="text-lg text-center mb-4">I often hear that our growing population is putting a strain on our
                water resources.
                It's true that more people means more water consumpation but given that human based water consumpation
                is about 10%
                of total water used it doesn't have that big of an effect on the total water consumed by the state. Take
                a look below. We see that the population grew by 82% the total water usage in that time went up and
                down. Funnily enough the correlation between the water usage and population over that time period is
                -0.15.[1]
            </p>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                <!-- Plot 1 -->
                <div class="bg-white p-6 rounded-lg shadow-lg">
                    <h3 class="text-xl font-semibold mb-4">Utah Population (1985-2015)</h3>
                    <div id="population" class="h-96"></div>
                </div>
                <!-- Plot 2 -->
                <div class="bg-white p-6 rounded-lg shadow-lg">
                    <h3 class="text-xl font-semibold mb-4">Water Used per Year</h3>
                    <div id="water_use_by_year" class="h-96"></div>
                </div>
            </div>
        </div>
    </section>

    <!-- Crops -->
    <section id="plots" class="py-12 bg-gray-100">
        <div class="container mx-auto px-6">
            <h2 class="text-3xl font-semibold text-center mb-8">Agricultural Breakdown</h2>
            <p class="text-lg text-center mb-4">Wow! Agriculture is the main water user in Utah! We can see from the
                above plots that about 85% of water is used for agriculture. To better understand our states water usage
                let's explore how that water is used and what crops we grow! <a
                    href="https://www.nass.usda.gov/Quick_Stats/Ag_Overview/stateOverview.php?state=UTAH">[3]</a>[4][5][6][7][8][9][10]
            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                <!-- Plot 1 -->
                <div class="bg-white p-6 rounded-lg shadow-lg">
                    <h3 class="text-xl font-semibold mb-4">Crops Grown in Utah</h3>
                    <div id="crops" class="h-96"></div>
                </div>
                <!-- Plot 2 -->
                <div class="bg-white p-6 rounded-lg shadow-lg">
                    <h3 class="text-xl font-semibold mb-4">Amount of Water to Produce one Ton of Crop</h3>
                    <div id="water_used_by_crop" class="h-96"></div>
                </div>
            </div>
        </div>
    </section>

    <!-- Crop GDP -->
    <section id="plots" class="py-12 bg-gray-100">
        <div class="container mx-auto px-6">
            <h2 class="text-3xl font-semibold text-center mb-8">Agricultural Breakdown</h2>
            <p class="text-lg text-center mb-4">We grow a lot of neat stuff! If we use money as a proxy for value and
                look at the total impact these crops have on our states economy we see that they are barely a blip. The
                largest contributor is alfalfa at just .2% of our GDP! But it uses 68% of ALL of our water.
                We spend the majority of our desert water on a commodity that brings in almost no money for our state
                and our people.<a
                    href="https://www.nass.usda.gov/Quick_Stats/Ag_Overview/stateOverview.php?state=UTAH">[3]</a>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                <!-- Plot 1 -->
                <div class="bg-white p-6 rounded-lg shadow-lg">
                    <h3 class="text-xl font-semibold mb-4">Percent of Utah's GDP by Crop</h3>
                    <div id="crop_gdp" class="h-96"></div>
                </div>
                <!-- Plot 2 -->
                <div class="bg-white p-6 rounded-lg shadow-lg">
                    <h3 class="text-xl font-semibold mb-4">Percent of Utah's Water Used to Grow Each Crop</h3>
                    <div id="water_used_by_crop" class="h-96"></div>
                </div>
            </div>
        </div>
    </section>


    <!-- Footer -->
    <footer class="bg-blue-600 p-4 text-center text-white">
        <p>&copy; 2024 Utah Water Facts. All rights reserved.</p>
    </footer>

    <script>
        // Plotly Plot 1 Example
        var trace1 = {
            x: ['flushes', 'glasses of oat milk', 'showers', 'laundry cycles', 'glasses of milk', 'hamburgers', 't-shirts', 'pools'],
            y: [203655, 108617, 15516, 14000, 8146, 494, 450, 16],
            type: 'bar'
        };
        var data1 = [trace1];
        Plotly.newPlot('acre_feet', data1);

        // Plotly Plot 2 Example
        // https://www.utahfoundation.org/reports/background-water-utah/#:~:text=Of%20the%205.2%20maf%20of,and%20industrial%20(M%26I)%20use
        var trace2 = {
            x: ['Agriculture', 'Residential Outdoor', 'Public Non Community', "Residential Indoor", "Commercial", "Institutional", "Industrial"],
            y: [4.2, 0.367, 0.22, .143, .097, .085, .026],
            type: 'bar',
            // text: ["1", "2", "3", "4", "5", "6", "7"],
            // hoverinfo: "text"
        };
        var data2 = [trace2];
        Plotly.newPlot('use_plot', data2, {
            yaxis: {
                title: 'Water Used (in millions of acre feet)'  // Label for the y-axis
            }
        });

        // Population and Water
        var population_trace = {
            x: ['1985', '1990', '1995', '2000', '2005', '2010', '2015'],
            y: [1644800.0, 1722850.0, 1951400.0, 2233200.0, 2547389.0, 2763885.0, 2995919.0],
            type: 'scatter'
        };
        Plotly.newPlot('population', [population_trace], {
            yaxis: {
                title: 'Population (in millions)',  // Label for the y-axis
                range: [0, 5000000]
            }
        });

        var water_trace = {
            x: ['1985', '1990', '1995', '2000', '2005', '2010', '2015'],
            y: [4.161e6, 4.29e6, 4.301e6, 4.786e6, 4.822e6, 4.133e6, 3.883e6],
            type: 'scatter'
        };

        Plotly.newPlot('water_use_by_year', [water_trace], {
            yaxis: {
                title: 'Water Used (in millions of acre feet)',
                range: [0, 5000000]
            }
        });

        // Agricultural breakdown
        var crops_trace = {
            x: ['alfalfa',
                'hay other',
                'corn',
                'corn silage',
                'cherries',
                'wheat',
                'safflower'],
            y: [1960000, 527000, 279720, 64400, 32500, 27666, 10890],
            type: 'bar'
        };
        Plotly.newPlot('crops', [crops_trace], {
            yaxis: {
                title: 'Tons of Crop',
            }
        });

        var water_trace = {
            x: ['alfalfa',
                'hay other',
                'corn',
                'corn silage',
                'cherries',
                'wheat',
                'safflower'],
            y: [0.577, 0.902, 0.405, 0.405, 0.526, 0.422, 0.437],
            type: 'bar'
        };

        Plotly.newPlot('water_used_by_crop', [water_trace], {
            yaxis: {
                title: 'Acre Feet',
            }
        });

        // Agricultural GDP Breakdown
        var crops_trace = {
            x: ['alfalfa',
                'hay other',
                'corn',
                'corn silage',
                'cherries',
                'wheat',
                'safflower'],
            y: [0.001985217629345743,
                0.00042798613012136143,
                0.00010929682452778538,
                2.516343188247103e-05,
                3.6034309699790126e-05,
                0.00014936581804909208,
                1.7392097819144083e-05],
            type: 'bar'
        };
        Plotly.newPlot('crop_gdp', [crops_trace], {
            yaxis: {
                title: 'Percent of Utah\'s GDP',
            }
        });

        // var water_trace = {
        //     x: ['alfalfa',
        //         'hay other',
        //         'corn',
        //         'corn silage',
        //         'cherries',
        //         'wheat',
        //         'safflower'],
        //     y: [0.577, 0.902, 0.405, 0.405, 0.526, 0.422, 0.437],
        //     type: 'bar'
        // };

        // Plotly.newPlot('water_used_by_crop', [water_trace], {
        //     yaxis: {
        //         title: 'Acre Feet',
        //     }
        // });
    </script>
</body>

</html>